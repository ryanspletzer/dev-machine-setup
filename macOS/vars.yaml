# vars.yml
# Externalized variables for Ansible setup

# System configuration
install_rosetta: false  # Set to true to install Rosetta 2 (required for some Intel-based applications on Apple Silicon)

# Homebrew configuration
homebrew_taps:
  - aws/tap
  - azure/bicep
  - azure/functions
  - hashicorp/tap
  - microsoft/git
  - teamookla/speedtest
  # Add more taps as needed

homebrew_casks:
  - 1password
  - appcleaner
  - azure-data-studio
  - chatgpt
  - citrix-workspace
  - docker
  - dotnet-sdk
  - drawio
  - elgato-camera-hub
  - firefox
  - font-caskaydia-cove-nerd-font
  - git-credential-manager
  - google-chrome
  - iterm2
  - microsoft-azure-storage-explorer
  - microsoft-edge
  - microsoft-office
  - microsoft-remote-desktop
  - microsoft-teams
  - netspot
  - ngrok
  # Doesn't work without Rosetta 2
  # - parallels
  - powershell
  - rectangle-pro
  - spotify
  - steam
  - synologyassistant
  - tailscale
  - utm
  - virtualbox
  - visual-studio-code
  - wine-stable
  # Doesn't work without Rosetta 2
  # - yubico-yubikey-manager
  - zoom
  - zulu
  # Add more casks as needed

homebrew_formulae:
  - aws-sam-cli
  - awscli
  - azure-cli
  - azure-functions-core-tools@4
  - bash
  - bash-git-prompt
  - bicep
  - cfn-lint
  - chruby
  - chruby-fish
  - cmake
  - direnv
  - ffmpeg
  - fish
  - fzf
  - gh
  - git
  - git-lfs
  - go
  - hashicorp/tap/packer
  - hashicorp/tap/terraform
  - hashicorp/tap/vault
  - istioctl
  - jq
  - maven
  - node
  - nvm
  - oh-my-posh
  - pipx
  - pyenv-virtualenv
  - python
  - qemu
  - ruby-install
  - ruff
  - rustup
  - serverless
  - teamookla/speedtest/speedtest
  - uv
  - wget2
  - zsh-autocomplete
  - zsh-autosuggestions
  - zsh-syntax-highlighting
  # Add more formulae as needed

# PowerShell modules
powershell_modules:
  - AWS.Tools.Common
  - Az.Accounts
  - Microsoft.Graph.Authentication
  - Pester
  - platyPS
  - poetry
  - posh-git
  - powershell-yaml
  - PowerShellBuild
  - psake
  - PSGraphQL
  - PSJsonWebToken
  - PSReadLine
  - PSScriptAnalyzer
  - PSTcpIp
  - Terminal-Icons
  # Add more PowerShell modules as needed

# pipx modules
pipx_modules:
  - taskcat
  # Add more pipx modules as needed

# VS Code extensions
# You can list your VS Code extensions with the command:
# code --list-extensions
# and then format them as shown below.
vscode_extensions:
  - 4ops.packer
  - alefragnani.project-manager
  - arjun.swagger-viewer
  - aws-scripting-guy.cform
  - charliermarsh.ruff
  - codezombiech.gitignore
  - davidanson.vscode-markdownlint
  - dbaeumer.vscode-eslint
  - docker.docker
  - donjayamanne.git-extension-pack
  - donjayamanne.githistory
  - eamodio.gitlens
  - esbenp.prettier-vscode
  - fernandoescolar.vscode-solution-explorer
  - github.copilot
  - github.copilot-chat
  - github.vscode-github-actions
  - github.vscode-pull-request-github
  - golang.go
  - grapecity.gc-excelviewer
  - hbenl.vscode-test-explorer
  - josin.kusto-syntax-highlighting
  - k--kato.docomment
  - medo64.render-crlf
  - mhutchie.git-graph
  - mimarec.swagger-doc-viewer
  - mohsen1.prettify-json
  - ms-azuretools.vscode-azurefunctions
  - ms-azuretools.vscode-azureresourcegroups
  - ms-azuretools.vscode-bicep
  - ms-azuretools.vscode-containers
  - ms-azuretools.vscode-docker
  - ms-dotnettools.csdevkit
  - ms-dotnettools.csharp
  - ms-dotnettools.vscode-dotnet-runtime
  - ms-kubernetes-tools.vscode-kubernetes-tools
  - ms-mssql.data-workspace-vscode
  - ms-mssql.mssql
  - ms-mssql.sql-bindings-vscode
  - ms-mssql.sql-database-projects-vscode
  - ms-python.debugpy
  - ms-python.isort
  - ms-python.python
  - ms-python.vscode-pylance
  - ms-toolsai.jupyter
  - ms-toolsai.jupyter-keymap
  - ms-toolsai.jupyter-renderers
  - ms-toolsai.vscode-jupyter-cell-tags
  - ms-toolsai.vscode-jupyter-slideshow
  - ms-vscode-remote.remote-containers
  - ms-vscode-remote.remote-ssh
  - ms-vscode-remote.remote-ssh-edit
  - ms-vscode-remote.remote-wsl
  - ms-vscode-remote.vscode-remote-extensionpack
  - ms-vscode.cmake-tools
  - ms-vscode.cpptools
  - ms-vscode.cpptools-extension-pack
  - ms-vscode.cpptools-themes
  - ms-vscode.hexeditor
  - ms-vscode.makefile-tools
  - ms-vscode.powershell
  - ms-vscode.remote-explorer
  - ms-vscode.remote-server
  - ms-vscode.test-adapter-converter
  - ms-vsliveshare.vsliveshare
  - msazurermtools.azurerm-vscode-tools
  - octref.vetur
  - oderwat.indent-rainbow
  - parallelsdesktop.parallels-desktop
  - pspester.pester-test
  - rangav.vscode-thunder-client
  - redhat.java
  - redhat.vscode-commons
  - redhat.vscode-yaml
  - samirat.csharp-test-adapter
  - sibiraj-s.vscode-scss-formatter
  - streetsidesoftware.code-spell-checker
  - takumii.markdowntable
  - teamsdevapp.ms-teams-vscode-extension
  - teamsdevapp.vscode-adaptive-cards
  - twxs.cmake
  - tylerleonhardt.vscode-inline-values-powershell
  - tyriar.sort-lines
  - usernamehw.errorlens
  - visualstudioexptteam.intellicode-api-usage-examples
  - visualstudioexptteam.vscodeintellicode
  - vscjava.vscode-gradle
  - vscjava.vscode-java-debug
  - vscjava.vscode-java-dependency
  - vscjava.vscode-java-pack
  - vscjava.vscode-java-test
  - vscjava.vscode-maven
  - vscode-icons-team.vscode-icons
  - vsls-contrib.codetour
  - vue.volar
  - waderyan.gitblame
  - yzhang.markdown-all-in-one
  - ziyasal.vscode-open-in-github
  # Add more VS Code extensions as needed

# Git configuration
git_user_email: ''  # REQUIRED: Set your email here or pass via command line with -e flag
git_user_name: "{{ lookup('pipe', 'id -F') }}"  # Defaults to macOS user's full name

# Custom commands and scripts (optional)
# These commands will be executed as the current user (non-elevated)
custom_commands_user:
  # Show hidden files in Finder
  - echo "Showing hidden files in Finder..."
  - defaults write com.apple.finder AppleShowAllFiles -bool true
  # Show path bar in Finder
  - echo "Showing path bar in Finder..."
  - defaults write com.apple.finder ShowPathbar -bool true
  # Show status bar in Finder
  - echo "Showing status bar in Finder..."
  - defaults write com.apple.finder ShowStatusBar -bool true
  # Disable the warning when changing file extensions
  - echo "Disabling warning when changing file extensions..."
  - defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false
  # Avoid creating .DS_Store files on network or USB volumes
  - echo "Disabling .DS_Store file creation on network and USB volumes..."
  - defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true
  - defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true
  # Use list view in all Finder windows by default
  - echo "Setting Finder default view to list view..."
  - defaults write com.apple.finder FXPreferredViewStyle -string "Nlsv"
  # Auto-hide the Dock and change delay and animation speed
  - echo "Configuring Dock auto-hide settings..."
  - defaults write com.apple.dock autohide -bool true
  - defaults write com.apple.dock autohide-delay -float 0
  - defaults write com.apple.dock autohide-time-modifier -float 0
  # Turn off "Show suggested and recent apps in Dock"
  - echo "Turning off suggested and recent apps in Dock..."
  - defaults write com.apple.dock show-recents -bool false
  - defaults write com.apple.dock show-suggested-and-recent-apps -int 0
  # Configure TextEdit to use plain text by default
  - echo "Setting TextEdit to use plain text by default..."
  - defaults write com.apple.TextEdit RichText -int 0
  # Trackpad gesture settings
  - echo "Configuring trackpad settings..."
  # Set tracking speed (just past middle, value around 1.5)
  - defaults write -g com.apple.trackpad.scaling -float 1
  # Turn off natural scrolling
  - defaults write -g com.apple.swipescrolldirection -bool false
  # Turn off swipe between pages
  - defaults write -g AppleEnableSwipeNavigateWithScrolls -bool false
  # Set App Expose to swipe down with three fingers
  - defaults write com.apple.dock showAppExposeGestureEnabled -bool true
  - defaults write com.apple.AppleMultitouchTrackpad TrackpadThreeFingerVertSwipeGesture -int 2
  - defaults write com.apple.driver.AppleBluetoothMultitouch.trackpad TrackpadThreeFingerVertSwipeGesture -int 2
  # Hide desktop icons
  - echo "Hiding desktop icons..."
  - defaults write com.apple.finder CreateDesktop -bool false
  # Keep folders on top when sorting by name in Finder
  - echo "Setting Finder to keep folders on top when sorting by name..."
  - defaults write com.apple.finder _FXSortFoldersFirst -bool true
  # Disable natural scrolling
  - echo "Disabling natural scrolling..."
  - defaults write -g com.apple.swipescrolldirection -bool false
  # Disable swipe between pages
  - echo "Disabling swipe between pages..."
  - defaults write -g AppleEnableSwipeNavigateWithScrolls -bool false
  # Set app expose to swipe down with three fingers
  - echo "Setting App Expose to swipe down with three fingers..."
  - defaults write com.apple.dock showAppExposeGestureEnabled -bool true
  # Restart affected applications
  - echo "Restarting affected applications..."
  - killall Finder
  - killall Dock
  - killall Safari 2>/dev/null || true
  - killall TextEdit 2>/dev/null || true
  # Update PowerShell help
  - echo "Updating PowerShell help documentation..."
  - pwsh -Command "Update-Help -Force -ErrorAction SilentlyContinue"
  # Install Git LFS
  - echo "Installing Git LFS..."
  - git lfs install
  # Set git configs
  - echo "Setting global git configurations..."
  - git config --global commit.gpgsign true
  - git config --global init.defaultBranch main
  - git config --global gpg.program /opt/homebrew/bin/gpg
  - git config --global push.default current
  - git config --global push.autoSetupRemote true
  - git config --global user.signingKey 787AEF0BAE232359
  # Example: Dark mode
  # - defaults write -g AppleInterfaceStyle Dark
  # Example: Key repeat settings
  # - defaults write -g InitialKeyRepeat -int 15
  # - defaults write -g KeyRepeat -int 2
  # Add more commands as needed

# These commands will be executed with elevated privileges (sudo)
custom_commands_elevated:
  # Add fish to /etc/shells if not already present
  - echo "Adding fish shell to /etc/shells..."
  - "if ! grep -q \"/opt/homebrew/bin/fish\" /etc/shells; then echo \"/opt/homebrew/bin/fish\" | sudo tee -a /etc/shells; fi"
  # Change default shell to PowerShell
  # TODO: FIGURE OUT AN APPROCH TO CHANGE THE DEFAULT SHELL
  # - chsh -s /usr/local/bin/pwsh
  # Add more commands requiring sudo as needed

# Custom script path (optional)
# Provide the path to a custom script that will be executed at the end of the setup
custom_script: "./examples/custom_script.sh"
