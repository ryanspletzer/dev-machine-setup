# vars.yml
# Externalized variables for DSC 3.0 setup

# Windows Features to enable
WindowsFeatures:
  # Required for both WSL 1 and 2
  - Name: Microsoft-Windows-Subsystem-Linux
    LogLevel: ErrorsOnly
  # Required for WSL 2
  # - Name: VirtualMachinePlatform
  # Only enable if you need this
  # Only works with the proper virtualization support in the processor, enabled in BIOS/UEFI
  # - Name: Microsoft-Hyper-V
  # - Name: Containers

# Chocolatey packages to install
ChocolateyPackages:
  - Name: 1password
  - Name: adoptopenjdk
  - Name: awscli
  - Name: awssamcli
  - Name: azure-cli
  - Name: azure-data-studio
  - Name: azure-functions-core-tools
  - Name: bicep
  - Name: cascadiacode
  - Name: citrix-workspace
  - Name: docker
  - Name: dotnet-sdk
  - Name: dotnetcore-sdk # versions 3 and lower
    Ensure: Present
  - Name: dotnetfx
  - Name: drawio
  - Name: ffmpeg
  - Name: fiddler
  - Name: firefox
  - Name: gh
  - Name: git
    params: "/WindowsTerminal /NoShellIntegration"
  - Name: gnupg
  - Name: go
  # May have a warning about not being signed...
  # The Chrome setup process is weird.
  # https://community.chocolatey.org/packages/GoogleChrome
  - Name: googlechrome
  - Name: ilspy
  - Name: jq
  - Name: maven
  - Name: microsoftazurestorageexplorer
  - Name: ngrok
  - Name: nodejs
  - Name: notepadplusplus
  - Name: office365business
  - Name: oh-my-posh
  - Name: packer
  - Name: python
  - Name: pwsh
  - Name: qemu
  - Name: ruff
  - Name: rsat
  - Name: rustup.install
  - Name: serverless
  - Name: servicebusexplorer
  - Name: slack
  - Name: sql-server-management-studio
  - Name: tailscale
  - Name: terraform
  - Name: uv
  - Name: vault
  - Name: visualstudio2022enterprise
  - Name: visualstudiocode
  - Name: windows-sdk-10-version-2004-all
  - Name: zoom
  - Name: zulu

# PowerShell modules to install
PowerShellModules:
  - Name: AWS.Tools.Common
  - Name: Az.Accounts
  - Name: Microsoft.Graph.Authentication
  - Name: Pester
  - Name: platyPS
  - Name: posh-git
  - Name: powershell-yaml
  - Name: PowerShellBuild
  - Name: psake
  - Name: PSGraphQL
  - Name: PSJsonWebToken
  - Name: PSReadLine
  - Name: PSScriptAnalyzer
  - Name: PSTcpIp
  - Name: Terminal-Icons

# Git user configuration - uncomment and set these values as needed
# GitUserEmail: your.email@example.com
# GitUserName: Your Name

# Git configuration script
GitConfigScript: |
  # Git user configuration
  if (-not [string]::IsNullOrEmpty('${GitUserEmail}')) {
    git config --global user.email '${GitUserEmail}'
  }
  if (-not [string]::IsNullOrEmpty('${GitUserName}')) {
    git config --global user.name '${GitUserName}'
  }

  # Additional Git configurations
  git config --global init.defaultBranch main
  git config --global push.default current
  git config --global push.autoSetupRemote true
  git config --global core.autocrlf true

# Custom commands to execute after setup
CustomCommands: |
  python -m pip install --user pipx
  python -m pipx ensurepath

  # Install WSL without a distribution
  Write-Output "Installing WSL infrastructure..."
  wsl --install --no-distribution

  # Additional custom commands can be added here
  # For example, to install a specific WSL distribution:
  # wsl --install -d Ubuntu-22.04
  # Add more git config options as needed

